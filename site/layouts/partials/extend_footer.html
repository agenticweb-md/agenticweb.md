{{/* Mobile Menu Toggle JavaScript */}}
<script>
(function() {
    // Mobile burger menu toggle
    const menuToggle = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu');
    
    if (menuToggle && menu) {
        menuToggle.addEventListener('click', function() {
            const expanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', !expanded);
            menu.classList.toggle('show');
        });
        
        // Close menu when clicking a link
        menu.querySelectorAll('a').forEach(function(link) {
            link.addEventListener('click', function() {
                menuToggle.setAttribute('aria-expanded', 'false');
                menu.classList.remove('show');
            });
        });
        
        // Close menu when clicking outside
        document.addEventListener('click', function(e) {
            if (!menu.contains(e.target) && !menuToggle.contains(e.target)) {
                menuToggle.setAttribute('aria-expanded', 'false');
                menu.classList.remove('show');
            }
        });
    }
    
    // Mobile theme toggle
    const mobileThemeToggle = document.getElementById('theme-toggle-mobile');
    if (mobileThemeToggle) {
        mobileThemeToggle.addEventListener('click', function() {
            const html = document.documentElement;
            if (html.dataset.theme === 'dark') {
                html.dataset.theme = 'light';
                localStorage.setItem('pref-theme', 'light');
            } else {
                html.dataset.theme = 'dark';
                localStorage.setItem('pref-theme', 'dark');
            }
        });
    }
    
    // Mobile language toggle (show/hide language options)
    const mobileLangToggle = document.getElementById('mobile-lang-toggle');
    if (mobileLangToggle) {
        mobileLangToggle.addEventListener('click', function() {
            const langOptions = document.querySelectorAll('.mobile-lang-option');
            langOptions.forEach(function(opt) {
                opt.style.display = opt.style.display === 'none' ? 'block' : 'none';
            });
        });
    }
    
    // Language dropdown for desktop
    const langDropdown = document.querySelector('.lang-dropdown');
    const langToggle = document.querySelector('.lang-dropdown-toggle');
    
    if (langDropdown && langToggle) {
        langToggle.addEventListener('click', function(e) {
            e.stopPropagation();
            langDropdown.classList.toggle('open');
            const expanded = langDropdown.classList.contains('open');
            this.setAttribute('aria-expanded', expanded);
        });
        
        document.addEventListener('click', function(e) {
            if (!langDropdown.contains(e.target)) {
                langDropdown.classList.remove('open');
                langToggle.setAttribute('aria-expanded', 'false');
            }
        });
    }
})();
</script>
